<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>combogrid</title>
        <link rel="shortcut icon" type="image/x-icon" href="/static/core/imgs/favicon.ico" media="screen" />
        <link rel="stylesheet" type="text/css" href="../../../plugins/easyui/themes/default/easyui.css" />
        <script type="text/javascript" src="../../../plugins/jquery/jquery-1.8.0.min.js">
        </script>
        <script type="text/javascript" src="../../../plugins/easyui/jquery.easyui.min.js">
        </script>
        <link rel="stylesheet" type="text/css" href="../../../style/main.css"/>
        <script type="text/javascript" src='../../../plugins/easyui/locale/easyui-lang-zh_CN.js'>
        </script>
        <script type="text/javascript" src='../../../plugins/extends/jquery.sailing.core.js'>
        </script>
        <script type="text/javascript" src='../../../plugins/extends/json.js'>
        </script>
		
		<link href="../../../style/con-min.css" rel="stylesheet" type="text/css" />
		<script language="javascript" src="../../../js/con-tab.js"></script>
		<script type="text/javascript" src="../../../js/shCore.js"></script>
		<script type="text/javascript" src="../../../js/shBrushJScript.js"></script>
		<script type="text/javascript" src="../../../js/shBrushXml.js"></script>
    </head>
    <body>
        <div id="container">
            <div id="header">
                <div class="Menubox1">
                    <ul>
                        <li id="two1" onmouseover="setTab1('two',1,5)" class="hover">
                            效果示例
                        </li>
                        <li id="two2" onmouseover="setTab1('two',2,5)">
                            源代码
                        </li>
                        <li id="two3" onmouseover="setTab1('two',3,5)">
                            属性
                        </li>
                        <li id="two4" onmouseover="setTab1('two',4,5)">
                            方法
                        </li>
                        <li id="two5" onmouseover="setTab1('two',5,5)">
                            事件
                        </li>
                    </ul>
                </div>
            </div>
            <div id="mainContent">
                <div class="Contentbox1">
                    <div id="con_two_1" class="msgTablist">
						<div style="margin:10px 0;"></div>
						<select class="easyui-combogrid" style="width:250px" data-options="
								panelWidth: 500,
								idField: 'itemid',
								textField: 'productname',
								url: 'datagrid_data1.json',
								columns: [[
									{field:'itemid',title:'Item ID',width:80},
									{field:'productname',title:'Product',width:120},
									{field:'listprice',title:'List Price',width:80,align:'right'},
									{field:'unitcost',title:'Unit Cost',width:80,align:'right'},
									{field:'attr1',title:'Attribute',width:200},
									{field:'status',title:'Status',width:60,align:'center'}
								]],
								fitColumns: true
							">
						</select>
                    </div>
                    <div id="con_two_2" style="display:none">
						<div style="margin:10px 0;"></div>
						<h4>应用实例</h4>
<h5>创建ComboGrid</h5>
1. 可以创建的combogrid从现有<select>或<input>元素使用javascript。
</p>
<div class="dp-highlighter"><div class="bar"><div class="tools"></div></div><ol start="1" class="dp-xml"><li class="alt"><span><span class="tag">&lt;</span><span class="tag-name">input</span><span>&nbsp;</span><span class="attribute">id</span><span>=</span><span class="attribute-value">"cc"</span><span>&nbsp;</span><span class="attribute">name</span><span>=</span><span class="attribute-value">"dept"</span><span>&nbsp;</span><span class="attribute">value</span><span>=</span><span class="attribute-value">"01"</span><span>&nbsp;</span><span class="tag">/&gt;</span><span>&nbsp;&nbsp;</span></span></li></ol></div><textarea class="html" name="code-combogrid" style="display: none;">	&lt;input id="cc" name="dept" value="01" /&gt;
</textarea>
<div class="dp-highlighter"><div class="bar"><div class="tools"></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>$(</span><span class="string">'#cc'</span><span>).combogrid({&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;panelWidth:450,&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;value:<span class="string">'006'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;idField:<span class="string">'code'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;textField:<span class="string">'name'</span><span>,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;url:<span class="string">'datagrid_data.json'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;columns:[[&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{field:<span class="string">'code'</span><span>,title:</span><span class="string">'Code'</span><span>,width:60},&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{field:<span class="string">'name'</span><span>,title:</span><span class="string">'Name'</span><span>,width:100},&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{field:<span class="string">'addr'</span><span>,title:</span><span class="string">'Address'</span><span>,width:120},&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{field:<span class="string">'col4'</span><span>,title:</span><span class="string">'Col41'</span><span>,width:100}&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;]]&nbsp;&nbsp;</span></li><li class=""><span>});&nbsp;&nbsp;</span></li>
</ol></div><textarea class="js" name="code-combogrid" style="display: none;">	$('#cc').combogrid({
		panelWidth:450,
		value:'006',
	 
		idField:'code',
		textField:'name',
		url:'datagrid_data.json',
		columns:[[
			{field:'code',title:'Code',width:60},
			{field:'name',title:'Name',width:100},
			{field:'addr',title:'Address',width:120},
			{field:'col4',title:'Col41',width:100}
		]]
	});
</textarea>
<br>
<h5>自动完成功能</h5>
<p>
让我们加入先进的自动完成功能combogrid。下拉datagrid将显示可能的结果根据用户类型。
</p>
<div class="dp-highlighter"><div class="bar"><div class="tools"></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>$(</span><span class="string">'#cc'</span><span>).combogrid({&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;delay:&nbsp;500,&nbsp;&nbsp;</span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;mode:&nbsp;<span class="string">'remote'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;url:&nbsp;<span class="string">'get_data.php'</span><span>,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;idField:&nbsp;<span class="string">'id'</span><span>,&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;textField:&nbsp;<span class="string">'name'</span><span>,&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;columns:&nbsp;[[&nbsp;&nbsp;</span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{field:<span class="string">'code'</span><span>,title:</span><span class="string">'Code'</span><span>,width:120,sortable:</span><span class="keyword">true</span><span>},&nbsp;&nbsp;</span></span></li><li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{field:<span class="string">'name'</span><span>,title:</span><span class="string">'Name'</span><span>,width:400,sortable:</span><span class="keyword">true</span><span>}&nbsp;&nbsp;</span></span></li><li class=""><span>&nbsp;&nbsp;&nbsp;&nbsp;]]&nbsp;&nbsp;</span></li><li class="alt"><span>});&nbsp;&nbsp;</span></li></ol></div><textarea class="js" name="code-combogrid" style="display: none;">$('#cc').combogrid({
	delay: 500,
	mode: 'remote',
	url: 'get_data.php',
	idField: 'id',
	textField: 'name',
	columns: [[
		{field:'code',title:'Code',width:120,sortable:true},
		{field:'name',title:'Name',width:400,sortable:true}
	]]
});
</textarea>
<p>
在服务器端,“q”参数必须先检索。用户可以查询数据库,然后返回一个sql结果以JSON格式的浏览器。
</p>
<p>
get_data.jsp
</p>
<div class="dp-highlighter"><div class="bar"><div class="tools"></div></div><ol start="1" class="dp-c"><li class="alt"><span><span>$q&nbsp;=&nbsp;isset($_POST[</span><span class="string">'q'</span><span>])&nbsp;?&nbsp;$_POST[</span><span class="string">'q'</span><span>]&nbsp;:&nbsp;</span><span class="string">''</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;the&nbsp;request&nbsp;parameter</span><span>&nbsp;&nbsp;</span></span></li><li class=""><span><span class="comment">//&nbsp;query&nbsp;database&nbsp;and&nbsp;return&nbsp;JSON&nbsp;result&nbsp;data</span><span>&nbsp;&nbsp;</span></span></li><li class="alt"><span>$rs&nbsp;=&nbsp;mysql_query(<span class="string">"select&nbsp;*&nbsp;from&nbsp;item&nbsp;where&nbsp;name&nbsp;like&nbsp;'$q%'"</span><span>);&nbsp;&nbsp;</span></span></li><li class=""><span>echo&nbsp;json_encode(...);&nbsp;&nbsp;</span></li></ol></div><textarea class="js" name="code-combogrid" style="display: none;">$q = isset($_POST['q']) ? $_POST['q'] : '';  // the request parameter
// query database and return JSON result data
$rs = mysql_query("select * from item where name like '$q%'");
echo json_encode(...);
</textarea>
                    </div>
                    <div id="con_two_3" style="display:none">
					<div style="margin:10px 0;"></div>
					<p>属性扩展从combo和datagrid,下面是添加属性combogrid。</p>
                    <table class="doc-table">
                        <TBODY>
                        <tr>
                            <th>
                                <strong>名称</strong>
                            </th>
                            <th>
                                <strong>类型</strong>
                            </th>
                            <th>
                                <strong>说明</strong>
                            </th>
							<th>
                                <strong>默认值</strong>
                            </th>
                        </tr>
<tr>
      <td>loadMsg</td>
      <td>string</td>
      <td>显示的消息当datagrid加载远程数据。</td>
      <td>null</td>
    </tr>
    <tr>
      <td>idField</td>
      <td>string</td>
      <td>id字段名。</td>
      <td>null</td>
    </tr>
    <tr>
      <td>textField</td>
      <td>string</td>
      <td>文本字段将显示在文本框。</td>
      <td>null</td>
    </tr>
    <tr>
      <td>mode</td>
      <td>string</td>
      <td>定义了如何装载数据当文本改变。数据表格设置为&ldquo;remote&rdquo;如果combogrid从服务器加载。当设置为&ldquo;remote&rdquo;模式下,用户类型将被发送的http请求参数命名为&ldquo;问&rdquo;服务器来检索新数据。</td>
      <td>local</td>
    </tr>
    <tr>
      <td>filter</td>
      <td>function(q, row)</td>
      <td>定义了如何选择本地数据当&ldquo;model&rdquo;设置为&ldquo;local&rdquo;。返回true选择行。
        <p>代码示例:</p>
        <pre>$('#cc').combogrid({  	
  filter: function(q, row){  		
     var opts = $(this).combogrid('options');  		
     return row[opts.textField].indexOf(q) == 0;  	
  }  
});  </pre></td>
      <td></td>
    </tr>
                        </tbody>
                    </table>
                    </div>
                    <div id="con_two_4" style="display:none">
					<div style="margin:10px 0;"></div>
					<p>从组合的方法扩展,下面是combogrid添加或重载方法。</p>
                     <table class="doc-table">
                        <TBODY>
                        <tr>
                            <th>
                                <strong>名称</strong>
                            </th>
                            <th>
                                <strong>参数</strong>
                            </th>
                            <th>
                                <strong>说明</strong>
                            </th>
                        </tr>
<tr>
      <td>options</td>
      <td>none</td>
      <td>返回选择对象。</td>
    </tr>
    <tr>
      <td>grid</td>
      <td>none</td>
      <td>返回datagrid对象。下面的例子显示了如何获取选中的行:        <pre>var g = $('#cc').combogrid('grid');	// 得到datagrid对象  
var r = g.datagrid('getSelected');	// 得到选中的行;</pre></td>
    </tr>
    <tr>
      <td>setValues</td>
      <td>values</td>
      <td>设置组件值数组。
        <p>代码示例:</p>
        <pre>$('#cc').combogrid('setValues', ['001','007']);  </pre></td>
    </tr>
    <tr>
      <td>setValue</td>
      <td>value</td>
      <td>设置组件的值。
        <p>代码示例:</p>
        <pre>$('#cc').combogrid('setValue', '002');  </pre></td>
    </tr>
    <tr>
      <td>clear</td>
      <td>none</td>
      <td>清除的组件值。</td>
    </tr>
                        </tbody>
                    </table>
                    </div>
                    <div id="con_two_5" style="display:none">
					<div style="margin:10px 0;"></div>
					<p>事件扩展从combo和datagrid。</p>
                    </div>
                </div>
            </div>
        </div>
        <br class="clearfloat" />
    </body>
</html>
