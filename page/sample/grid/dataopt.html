<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>数据操作</title>
        <link rel="stylesheet" type="text/css" href="../../../plugins/easyui/themes/default/easyui.css" />
        <link href="../../../plugins/easyui/themes/icon.css" rel="stylesheet" type="text/css" />
        <script type="text/javascript" src="../../../plugins/jquery/jquery-1.8.0.min.js">
        </script>
        <script type="text/javascript" src="../../../plugins/easyui/jquery.easyui.min.js">
        </script>
        <script type="text/javascript" src='../../../plugins/easyui/locale/easyui-lang-zh_CN.js'>
        </script>
        <script type="text/javascript" src='../../../plugins/extends/json.js'>
        </script>
        <link href="../../../style/con-min.css" rel="stylesheet" type="text/css" />
        <script language="javascript" src="../../../js/con-tab.js">
        </script>
		    <script type="text/javascript">
            $(function(){
                var columns = [[{
                    field: 'itemid',
                    checkbox: true,
                    width: 80
                }, {
                    field: 'productname',
                    title: 'Product',
                    width: 120
                }, {
                    field: 'listprice',
                    title: 'List Price',
                    width: 80,
                    align: 'right'
                }, {
                    field: 'unitcost',
                    title: 'Unit Cost',
                    width: 80,
                    align: 'right'
                }, {
                    field: 'attr1',
                    title: 'Attribute',
                    width: 200
                }, {
                    field: 'status',
                    title: 'Status',
                    width: 60,
                    align: 'center'
                }]];
                
                $('#grid').datagrid({
                    url: 'datagrid_data1.json',
					fit:true,
                    fitColumns: true,
                    singleSelect: true,
					rownumbers: true,
					pagination: true,
                    columns: columns
                });
            });
			
			function selectRow(index){
				$('#grid').datagrid('selectRow', 1);
			}
			function clearSelections(){
				$('#grid').datagrid('clearSelections');	
			}
			function getRow(index){
				var rows = $('#grid').datagrid('getRows');				
				alert(JSON.stringify(rows[index]));
			}
			function getSelectRow(){
				var row = $('#grid').datagrid('getSelected');
				alert(JSON.stringify(row));
			}
            function updateRow(){
                $('#grid').datagrid('updateRow', {
                    index: 3,
                    row: {
                        productname: '更新第四行',
                        unitcost: 222.22,
						listprice: 111.11
                    }
                });
            }
        </script>
    </head>
    <body>
        <div id="container">
            <div id="header">
                <div class="Menubox1">
                    <ul>
                        <li id="two1" onmouseover="setTab1('two',1,1)" class="hover">
                            数据操作
                        </li>
                    </ul>
                </div>
            </div>
            <div id="mainContent">
                <div class="Contentbox1">
                    <div id="con_two_1" class="msgTablist">
                        <h2>示例</h2>
						<div style="margin-bottom:5px;"><a href="#" class="easyui-linkbutton" onclick="selectRow(1);">选中第二行</a>&nbsp;<a href="#" class="easyui-linkbutton" onclick="clearSelections();">清除选中行</a>&nbsp;<a href="#" class="easyui-linkbutton" onclick="getRow(2);">获得第三行的记录</a>&nbsp;<a href="#" class="easyui-linkbutton" onclick="getSelectRow();">获得选中行的记录</a>&nbsp;<a href="#" class="easyui-linkbutton" onclick="updateRow();">更新第4行</a></div>
                        <div style="height:200px;">
                            <table id="grid">
                            </table>
                        </div>
                        <h2>HTML代码</h2>
                        <div class="dp-highlighter">
                            <ol start="1" class="dp-xml">
                                <li class="alt">
                                    &lt;<span class="tag-name">table</span>&nbsp;<span class="attribute">id</span>=<span class="attribute-value">"grid"</span>&gt;&lt;<span class="tag-name">/table</span>&gt;
                                </li>
                            </ol>
                        </div>
                        <h2>JS代码</h2>
                        <div class="dp-highlighter">
<ol start="0" class="dp-j">
<li class="alt"><span class="string">//选中第2行</span></li>
<li>$(<span class="string">'#grid'</span>).datagrid(<span class="string">'selectRow'</span>,&nbsp;<span class="number">1</span>);&nbsp;<span class="string">//第2行的索引是1</span></li>
<li class="alt"></li>
<li><span class="string">//清除所有选择的行</span></li>
<li class="alt">$(<span class="string">'#grid'</span>).datagrid(<span class="string">'clearSelections'</span>);</li>
<li></li>
<li class="alt"><span class="string">//获得第三行记录</span></li>
<li>$(<span class="string">'#grid'</span>).datagrid(<span class="string">'getRows'</span>)[<span class="number">2</span>];</li>
<li class="alt"></li>
<li><span class="string">//获得选中行记录(单选)</span></li>
<li class="alt">$(<span class="string">'#grid'</span>).datagrid(<span class="string">'getSelected'</span>);</li>
<li></li>
<li class="alt"><span class="string">//更新行</span></li>
<li>$(<span class="string">'#grid'</span>).datagrid(<span class="string">'updateRow'</span>,&nbsp;{</li>
<li class="alt">&nbsp;&nbsp;&nbsp;&nbsp;index:&nbsp;<span class="number">3</span>,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;row:&nbsp;{</li>
<li class="alt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;productname:&nbsp;<span class="string">'更新第四行'</span>,</li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unitcost:&nbsp;<span class="number">222.22</span>,</li>
<li class="alt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listprice:&nbsp;<span class="number">111.11</span></li>
<li>&nbsp;&nbsp;&nbsp;&nbsp;}</li>
<li class="alt">});</li>
</ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
